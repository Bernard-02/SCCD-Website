/**
 * Card Components
 * Faculty Cards、Library Cards、Degree Show 等卡片樣式
 */

@layer components {
  /* ===== Faculty Cards ===== */
  .faculty-card {
    transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .faculty-card-image-wrapper {
    overflow: hidden;
    cursor: default;
    position: relative;
  }

  /* Fulltime and admin cards are clickable */
  .faculty-card[data-category="fulltime"] .faculty-card-image-wrapper,
  .faculty-card[data-category="admin"] .faculty-card-image-wrapper {
    cursor: pointer;
  }

  .faculty-card-image {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Parttime cards: blue overlay (基礎樣式) */
  .faculty-card[data-category="parttime"] .faculty-card-image-wrapper::after {
    content: '';
    position: absolute;
    inset: 0;
    background-color: #26BCFF; /* 藍色 100% */
    mix-blend-mode: screen;
    opacity: 0;
    transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    pointer-events: none;
  }

  /* Hover 效果：僅桌面版 */
  @media (min-width: 768px) {
    /* Fulltime and admin cards: image scale on hover */
    .faculty-card[data-category="fulltime"] .faculty-card-image-wrapper:hover .faculty-card-image,
    .faculty-card[data-category="admin"] .faculty-card-image-wrapper:hover .faculty-card-image {
      transform: scale(1.1);
    }

    /* Parttime cards: blue overlay on hover */
    .faculty-card[data-category="parttime"] .faculty-card-image-wrapper:hover::after {
      opacity: 1;
    }

    /* Parttime cards: grayscale image on hover */
    .faculty-card[data-category="parttime"] .faculty-card-image-wrapper:hover .faculty-card-image {
      filter: grayscale(100%);
    }
  }

  /* ===== Library Card Hover Effect ===== */
  @media (min-width: 768px) {
    .library-card-image-wrapper:hover .library-card-image {
      transform: scale(1.1);
    }
  }

  /* ===== Degree Show Image ===== */
  .degree-show-img-wrapper {
    overflow: hidden;
  }

  .degree-show-img-wrapper img {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Hover 效果：僅桌面版 */
  @media (min-width: 768px) {
    .degree-show-img-wrapper:hover img {
      transform: scale(1.05);
    }
  }

  /* ===== Brand Trail Image (Mouse Trail Effect) ===== */
  .brand-trail-img {
    @apply absolute object-contain pointer-events-none z-50; /* 改為 contain 以完整顯示 Logo */
    width: 150px;       /* 設定統一寬度 */
    height: 100px;      /* 設定統一高度 */
    transform: translate(-50%, -50%); /* 讓圖片中心對準滑鼠 */
  }

  /* ===== Card Stacks & Effects ===== */
  .card-stack-1 {
    transform: rotate(-4deg);
    position: relative;
    z-index: 1;
  }

  .card-stack-2 {
    transform: rotate(3deg);
    position: relative;
    z-index: 2;
  }

  .card-stack-3 {
    transform: rotate(-2deg);
    position: relative;
    z-index: 3;
  }

  @media (min-width: 768px) {
    .hover-tilt-left:hover {
      transform: rotate(-4deg);
    }

    .hover-tilt-right:hover {
      transform: rotate(4deg);
    }
  }

  .works-container {
    height: var(--works-container-height, 500px);
  }

  /* ===== Mobile Responsive for Works Container ===== */
  @media (max-width: 767px) {
    .works-container {
      height: auto !important;
      display: flex !important; /* 改為 Flex 佈局以支援橫向排列 */
      overflow-x: auto;         /* 開啟橫向捲動 */
      gap: 1rem;                /* 圖片間距 */
      scroll-snap-type: x mandatory; /* 滑動吸附效果 */
      padding-bottom: 1rem;     /* 預留空間 */
      justify-content: flex-start !important; /* 確保靠左開始 */
      scrollbar-width: none;    /* Firefox 隱藏捲軸 */
    }
    .works-container::-webkit-scrollbar { display: none; } /* Chrome/Safari 隱藏捲軸 */

    .works-container img.absolute, .works-container > div.absolute {
      position: relative !important;
      top: auto !important;
      left: auto !important;
      width: 85% !important;    /* 讓圖片佔據 85% 寬度，暗示可滑動 */
      transform: none !important; /* 移除旋轉 */
      margin-bottom: 0 !important;
      flex-shrink: 0;           /* 防止圖片被壓縮 */
      scroll-snap-align: center; /* 吸附對齊 */
    }
  }
}
