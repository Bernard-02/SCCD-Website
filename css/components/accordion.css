/**
 * Accordion Components
 * Course Accordion、Workshop Accordion、Horizontal Accordion 等
 */

@layer components {
  /* ===== Course Accordion ===== */
  /* First item in each year group has pt-sm */
  .course-item:first-child .course-header {
    padding-top: 1rem !important; /* pt-sm */
  }

  /* ===== Workshop Accordion ===== */
  /* Auto padding based on position */
  .workshop-item:first-child .workshop-header {
    padding-bottom: var(--spacing-md);
    padding-top: 0;
  }

  .workshop-item:not(:first-child):not(:last-child) .workshop-header {
    padding-top: var(--spacing-md);
    padding-bottom: var(--spacing-md);
  }

  .workshop-item:last-child:not(:first-child) .workshop-header {
    padding-top: var(--spacing-md);
    padding-bottom: var(--spacing-md);
  }

  /* ===== Year Toggle Chevron Rotation ===== */
  .workshop-year-toggle .fa-chevron-right {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .activities-year-toggle .fa-chevron-right {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* ===== Horizontal Accordion (Degree Show) ===== */
  .accordion-wrapper {
    display: flex;
  }

  .accordion-panel {
    position: relative;
    cursor: pointer;
    overflow: hidden; /* 確保圖片放大時不會超出邊界 */
    flex-basis: 0;    /* 關鍵：設定基礎寬度為 0，讓 flex-grow 完全控制比例 */
    min-width: 0;     /* 防止內容撐開容器 */
  }

  .accordion-panel img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .accordion-overlay {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.7); /* 純黑半透明遮罩，展開時顯示 */
    transition: none;
  }

  .accordion-content {
    position: absolute;
    bottom: 0;
    left: 0;
    transition: none;
  }
}
